{
    "name": "sub-store组合订阅",
    "displayName": "sub-store组合订阅",
    "form": "",
    "remark": "",
    "mergeSources": "",
    "ignoreFailedRemoteSub": "quiet",
    "passThroughUA": false,
    "icon": "",
    "process": [
        {
            "type": "Quick Setting Operator",
            "args": {
                "useless": "DISABLED",
                "udp": "DEFAULT",
                "scert": "ENABLED",
                "tfo": "DEFAULT",
                "vmess aead": "DEFAULT"
            }
        },
        {
            "type": "Script Operator",
            "args": {
                "content": "https://raw.githubusercontent.com/xream/scripts/refs/heads/main/surge/modules/sub-store-scripts/sub-info/sum.js",
                "mode": "link",
                "arguments": {}
            },
            "customName": "",
            "id": "28460290.72169969",
            "disabled": false
        },
        {
            "type": "Regex Filter",
            "args": {
                "keep": false,
                "regex": [
                    "群|邀请|返利|循环|官网|客服|网站|网址|获取|订阅|流量|到期|机场|下次|版本|官址|备用|过期|已用|联系|邮箱|工单|贩卖|通知|倒卖|防止|国内|地址|频道|无法|说明|使用|提示|特别|访问|支持|付费|失联|设置|总计|(\\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel)\\b|(\\d{4}-\\d{2}-\\d{2}|\\dG))"
                ]
            },
            "id": "10354460.04108187",
            "disabled": false
        },
        {
            "type": "Handle Duplicate Operator",
            "args": {
                "action": "rename",
                "position": "back",
                "template": "0 1 2 3 4 5 6 7 8 9",
                "link": " "
            },
            "id": "20454324.864660557",
            "disabled": true
        },
        {
            "type": "Flag Operator",
            "args": {
                "mode": "add",
                "tw": "cn"
            },
            "id": "72382003.7008269",
            "disabled": true
        },
        {
            "type": "Sort Operator",
            "args": "asc",
            "id": "25116284.22819716",
            "disabled": false
        },
        {
            "type": "Resolve Domain Operator",
            "args": {
                "provider": "Ali",
                "type": "IPv4",
                "filter": "IPv4Only",
                "cache": "enabled",
                "url": "",
                "edns": ""
            },
            "customName": "",
            "id": "69491248.72493628",
            "disabled": true
        },
        {
            "type": "Script Operator",
            "args": {
                "content": "// IPv6节点入口解析命名脚本，如需对域名的AAAA记录解析可以启用上面的操作\nif ( (ProxyUtils.isIPv6($server.server) || $server.name.match(/ipv6|v6/i)) && !$server.name.includes('[IPv6]') ) {\n  $server.name = `${$server.name} [IPv6]`;\n}\n\nif ($server._domain) $server.server = $server._domain",
                "mode": "script",
                "arguments": {}
            },
            "customName": "",
            "id": "56832536.65291016",
            "disabled": true
        },
        {
            "type": "Script Operator",
            "args": {
                "content": "https://raw.githubusercontent.com/Keywos/rule/main/rename.js#bl=true&blkey=%E5%AE%B6%E5%AE%BD%2BIPLC%2BIEPL%2B%E8%90%BD%E5%9C%B0%2BIPv6&flag=true&in=true&nm=true&out=en%2Bcn",
                "mode": "link",
                "arguments": {
                    "bl": "true",
                    "blkey": "家宽+IPLC+IEPL+落地+IPv6",
                    "flag": "true",
                    "in": "true",
                    "nm": "true",
                    "out": "en+cn"
                }
            },
            "id": "25705468.712085843",
            "disabled": true
        },
        {
            "type": "Script Operator",
            "args": {
                "content": "// 链式代理自动设置脚本，自动选择对应地区节点进行中继，需要节点名中含有“家宽”或“落地”才会生效，按需启用\n// 如果想要设置链式代理的订阅没有包含以上字样，可以在单条订阅中添加一个正则命名操作，左侧设置为“$”，右侧设置为“ 落地”\n// ⚠️注意与下面的链式代理设置脚本只能启用其中一个\nconst substringCountries = ['香港', '台湾', '日本', '美国', '韩国', '英国', '法国', '德国'];\n\n// 定义允许的协议类型列表\nconst allowedProtocols = ['ss', 'socks5', 'http'];\n\n// 调整外层判断条件：\n// 1. 节点名称包含 '家宽' 或 '落地' (原条件)\n// 2. 节点的代理协议类型在 allowedProtocols 列表中\nif (($server.name.includes('家宽') || $server.name.includes('落地')) && allowedProtocols.includes($server.type)) {\n  // 原有的重命名逻辑被包裹在这里面\n  // 这个块只有在名字包含 '家宽' 或 '落地' 且协议是 shadowsocks, socks5, 或 http 时才会执行\n\n  if ($server.name.includes('新加坡')) {\n    // 如果包含“新加坡”，并且满足外层两个条件\n    $server['underlying-proxy'] = '狮城节点';\n  } else if ($server.name.includes('SG')) {\n    // 如果包含“SG”，并且满足外层两个条件\n    $server['underlying-proxy'] = '狮城节点';\n  } else if ($server.name.includes('TR')) {\n    // 如果包含“TR”，并且满足外层两个条件\n    $server['underlying-proxy'] = '德国节点';\n  } else if ($server.name.includes('US')) {\n    // 如果包含“TR”，并且满足外层两个条件\n    $server['underlying-proxy'] = '美国节点';\n  } else if (substringCountries.some(country => $server.name.includes(country))) {\n    // 如果包含其他指定国家之一，并且满足外层两个条件\n    // 这里的 substring(5, 7) 依然保留原样，如果你的节点格式变了，记得调整。\n    const prefix = $server.name.substring(5, 7);\n    const underlyingProxyName = prefix + '节点';\n    $server['underlying-proxy'] = underlyingProxyName;\n  } else {\n    // 如果不包含“新加坡”或任何指定国家，但满足外层两个条件\n    // 依然设为“香港节点”。\n    $server['underlying-proxy'] = '香港节点';\n  }\n}\n// 如果节点名称不包含 '家宽' 或 '落地'，或者协议不是 shadowsocks, socks5, 或 http，\n// 则跳过上面的整个 if 块，$server['underlying-proxy'] 将不会被修改。",
                "mode": "script",
                "arguments": {}
            },
            "customName": "自动选择",
            "id": "13667343.20577676",
            "disabled": false
        },
        {
            "type": "Script Operator",
            "args": {
                "content": "// 链式代理自动设置脚本，需手动选择中继节点，需要节点名中含有\"家宽\"或\"落地\"才会生效，按需启用\n// 如果想要设置链式代理的订阅没有包含以上字样，可以在单条订阅中添加一个正则命名操作，左侧设置为\"$\"，右侧设置为\" 落地\"\n// ⚠️注意与自动链式代理设置脚本只能启用其中一个\nconst substringCountries = ['香港', '台湾', '日本', '美国', '韩国', '英国', '法国', '德国'];\n\n// 定义允许的协议类型列表\nconst allowedProtocols = ['ss', 'socks5', 'http'];\n\n// 调整外层判断条件：\n// 1. 节点名称包含 '家宽' 或 '落地' (原条件)\n// 2. 节点的代理协议类型在 allowedProtocols 列表中\nif (($server.name.includes('家宽') || $server.name.includes('落地')) && allowedProtocols.includes($server.type)) {\n  // 原有的重命名逻辑被包裹在这里面\n  // 这个块只有在名字包含 '家宽' 或 '落地' 且协议是 shadowsocks, socks5, 或 http 时才会执行\n\n  // 将所有满足条件的节点 underlying-proxy 设置为\"中继节点\"\n  $server['underlying-proxy'] = '中继选择';\n}\n// 如果节点名称不包含 '家宽' 或 '落地'，或者协议不是 shadowsocks, socks5, 或 http，\n// 则跳过上面的整个 if 块，$server['underlying-proxy'] 将不会被修改。",
                "mode": "script",
                "arguments": {}
            },
            "customName": "手动选择",
            "id": "75280958.54806618",
            "disabled": true
        }
    ],
    "subscriptions": [
        "落地"
    ],
    "tag": [],
    "subscriptionTags": [],
    "display-name": "sub-store组合订阅",
    "subUserinfo": "upload=4497518231; download=345714356546; total=1073741824000 ; expire=1794488189",
    "isIconColor": true
}
